{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "description": "File type registry for the AMS Web IDE - defines file types, their schemas, and templates",
  "filetypes": [
    {
      "id": "game",
      "name": "Game Config",
      "description": "Main game configuration file",
      "icon": "game",
      "filename": "game.yaml",
      "folder": "",
      "language": "yaml",
      "schema": "/api/schemas/game.schema.json",
      "fileMatch": ["**/game.yaml"],
      "singleton": true,
      "template": "name: My Game\ndescription: A new AMS game\n\nscreen_width: 800\nscreen_height: 600\nbackground_color: [30, 30, 46]\n\nentity_types:\n  target:\n    width: 50\n    height: 50\n    color: red\n    health: 1\n    points: 10\n    tags: [target]\n\ndefault_layout:\n  entities:\n    - type: target\n      x: 400\n      y: 300\n"
    },
    {
      "id": "level",
      "name": "Level",
      "description": "Game level with entity layouts",
      "icon": "level",
      "filename": "level_{n}.yaml",
      "folder": "levels/",
      "language": "yaml",
      "schema": "/api/schemas/level.schema.json",
      "fileMatch": ["**/levels/*.yaml"],
      "singleton": false,
      "template": "name: Level {n}\ndescription: A new level\n\nentities:\n  - type: target\n    x: 400\n    y: 300\n"
    },
    {
      "id": "behavior",
      "name": "Behavior",
      "description": "Reusable entity behavior (interactions collection)",
      "icon": "behavior",
      "filename": "{name}.yaml",
      "folder": "lua/behaviors/",
      "language": "yaml",
      "schema": "/api/schemas/behavior.schema.json",
      "fileMatch": ["**/lua/behaviors/*.yaml", "**/builtins/behavior/*.yaml"],
      "singleton": false,
      "template": "name: {name}\ndescription: Describe what this behavior does\n\nconfig:\n  speed:\n    type: number\n    default: 100\n    description: Movement speed in pixels/second\n\ninteractions:\n  # Continuous behavior - runs every frame\n  level:\n    because: continuous\n    action: move_right\n    modifier:\n      speed: $config.speed\n\n  # Example: respond to collisions with walls\n  # other:\n  #   - when:\n  #       b.tags contains: wall\n  #     action: bounce\n"
    },
    {
      "id": "generator",
      "name": "Generator",
      "description": "Property value generator for entity spawning",
      "icon": "lua",
      "filename": "{name}.lua.yaml",
      "folder": "lua/generators/",
      "language": "yaml",
      "schema": "/api/schemas/lua_script.schema.json",
      "fileMatch": ["**/lua/generators/*.lua.yaml", "**/builtins/generator/*.lua.yaml"],
      "singleton": false,
      "template": "type: generator\nname: {name}\ndescription: |\n  Generate a computed value at spawn time.\nversion: \"1.0\"\ntags: []\n\nargs:\n  min:\n    type: float\n    description: Minimum value\n    default: 0\n  max:\n    type: float\n    description: Maximum value\n    default: 100\n\nprovides:\n  hooks:\n    - generate\n\nrequires:\n  api: [random]\n\nexamples:\n  - title: Random position\n    yaml: |\n      x: {call: {name}, args: {min: 0, max: 800}}\n\nlua: |\n  local {name} = {}\n\n  function {name}.generate(args)\n    local min = args.min or 0\n    local max = args.max or 100\n    return min + ams.random() * (max - min)\n  end\n\n  return {name}\n"
    },
    {
      "id": "sprite",
      "name": "Sprite",
      "description": "A Sprite Asset Definition",
      "icon": "image",
      "filename": "{name}.yaml",
      "folder": "assets/sprites/",
      "language": "yaml",
      "schema": "/api/schemas/assets.schema.json#sprite",
      "fileMatch": ["**/assets/sprites/*.yaml"],
      "singleton": false,
      "template": "name: {name}\ndescription: Sprite description\n\n# Reference an image file\nfile: ../images/{name}.png\n\n# Or use a region from a sprite sheet:\n# file: ../images/spritesheet.png\n# x: 0\n# y: 0\n# width: 32\n# height: 32\n\n# Optional: transparency color key\n# transparent: [255, 0, 255]\n\n# Optional: flip sprite\n# flip_x: false\n# flip_y: false\n\n# Optional: animation frames\n# frames:\n#   - { x: 0, y: 0 }\n#   - { x: 32, y: 0 }\n#   - { x: 64, y: 0 }\n# frame_duration: 0.1\n# loop: true\n\n# Optional: provenance\n# provenance:\n#   author: Artist Name\n#   license: CC0\n"
    },
    {
      "id": "sound",
      "name": "Sound",
      "description": "A Sound Asset Definition",
      "icon": "speaker",
      "filename": "{name}.yaml",
      "folder": "assets/sounds/",
      "language": "yaml",
      "schema": "/api/schemas/assets.schema.json#sound",
      "fileMatch": ["**/assets/sounds/*.yaml"],
      "singleton": false,
      "template": "name: {name}\ndescription: Sound description\n\n# Reference an audio file\nfile: {name}.wav\n\n# Optional: playback settings\nvolume: 1.0\nloop: false\n# pitch: 1.0\n\n# Optional: random variants\n# variants:\n#   - {name}_1.wav\n#   - {name}_2.wav\n#   - {name}_3.wav\n\n# Optional: provenance\n# provenance:\n#   author: Sound Artist\n#   license: CC0\n"
    },
    {
      "id": "image",
      "name": "Image",
      "description": "An Image Asset Definition",
      "icon": "image",
      "filename": "{name}.yaml",
      "folder": "assets/images/",
      "language": "yaml",
      "schema": "/api/schemas/assets.schema.json#image",
      "fileMatch": ["**/assets/images/*.yaml"],
      "singleton": false,
      "template": "name: {name}\ndescription: Image description\n\n# Reference an image file (place the actual file alongside this yaml)\nfile: {name}.png\n\n# Optional: metadata\n# width: 128\n# height: 128\n# tags: [background, tileset]\n\n# Optional: provenance information\n# provenance:\n#   author: Artist Name\n#   source: https://example.com/asset\n#   license: CC0\n#   license_url: https://creativecommons.org/publicdomain/zero/1.0/\n"
    }
  ]
}
